<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayao & Sherry ç¾©å¤§åˆ©èœœæœˆæ•£ç­– 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Noto+Sans+TC:wght@300;400;500&display=swap" rel="stylesheet">
    <!-- Leaflet Maps CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root {
            --cafe-bg: #fdfaf7;
            --cafe-paper: #ffffff;
            --cafe-text: #4a4a4a;
            --cafe-accent: #a68d71;
            --cafe-muted: #d8c4b6;
            --cafe-green: #94a187;
        }
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background-color: var(--cafe-bg); 
            color: var(--cafe-text);
            letter-spacing: 0.02em;
        }
        .serif { font-family: 'Noto Serif TC', serif; letter-spacing: 0.05em; }
        .tab-active { 
            color: var(--cafe-accent); 
            font-weight: 600; 
            border-bottom: 2px solid var(--cafe-accent);
        }
        .checked { text-decoration: line-through; color: #b5b5b5; opacity: 0.6; }
        .card-shadow { box-shadow: 0 10px 30px -10px rgba(166, 141, 113, 0.15); }
        .day-btn-active { background-color: var(--cafe-accent) !important; color: white !important; border-radius: 8px; }
        
        .paper-texture {
            background-image: url("https://www.transparenttextures.com/patterns/natural-paper.png");
        }

        #map { height: 280px; border-radius: 16px; border: 1px solid #eee7de; margin-bottom: 24px; z-index: 10; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 4px; height: 4px; }
        ::-webkit-scrollbar-track { background: var(--cafe-bg); }
        ::-webkit-scrollbar-thumb { background: var(--cafe-muted); border-radius: 10px; }
        
        .animate-fadeIn { animation: fadeIn 0.6s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Mobile Date Scroller Fix */
        @media (max-width: 768px) {
            .date-scroller {
                display: flex;
                overflow-x: auto;
                white-space: nowrap;
                padding: 10px 0;
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
            }
            .date-scroller::-webkit-scrollbar { display: none; }
            .date-scroller button {
                flex: 0 0 auto;
                margin-right: 8px;
                padding: 8px 16px;
                background: #f9f5f0;
            }
        }
    </style>
</head>
<body class="paper-texture">

    <div class="max-w-6xl mx-auto min-h-screen flex flex-col md:flex-row my-0 md:my-10 card-shadow rounded-none md:rounded-3xl overflow-hidden bg-white">
        
        <!-- Sidebar Navigation -->
        <nav class="w-full md:w-72 bg-[#f9f5f0] border-r border-[#eee7de] p-6 md:p-8 flex-shrink-0">
            <div class="mb-8 md:mb-12 text-center md:text-left">
                <h1 class="serif text-xl md:text-2xl text-[#6d5d4b] font-bold leading-relaxed tracking-widest">
                    ç¾©å¤§åˆ©èœœæœˆæ•£ç­–<br>
                    <span class="text-xs md:text-sm font-light text-[#a68d71]">Ayao & Sherry 2026</span>
                </h1>
                <div class="h-px w-12 bg-[#a68d71] mt-4 mx-auto md:mx-0"></div>
            </div>
            
            <div class="space-y-6 text-sm">
                <section>
                    <p class="text-[10px] font-bold text-[#b5a391] uppercase tracking-[0.2em] mb-4">æ¦‚è¦½</p>
                    <div class="flex flex-row md:flex-col space-x-4 md:space-x-0 md:space-y-2 overflow-x-auto md:overflow-visible whitespace-nowrap pb-2 md:pb-0">
                        <button onclick="switchTab('flight')" id="tab-flight" class="text-left py-1 md:py-2 px-1 transition-all hover:text-[#a68d71]">âœˆï¸ èˆªç­æ™‚å…‰</button>
                        <button onclick="switchTab('budget')" id="tab-budget" class="text-left py-1 md:py-2 px-1 transition-all hover:text-[#a68d71]">ğŸ’° æ—…è²»ç¶“è²»</button>
                        <button onclick="switchTab('klook')" id="tab-klook" class="text-left py-1 md:py-2 px-1 transition-all hover:text-[#a68d71] text-[#c0a48a]">ğŸ”¥ æ¶ç¥¨è­¦æˆ’</button>
                    </div>
                </section>
                
                <section>
                    <p class="text-[10px] font-bold text-[#b5a391] uppercase tracking-[0.2em] mb-4 md:mb-6">æ—¥æœŸè©³æƒ… (å·¦å³æ»‘å‹•)</p>
                    <div class="date-scroller md:grid md:grid-cols-2 md:gap-2">
                        <button onclick="showDay(1)" id="btn-day-1" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all">5/3 (æ—¥)</button>
                        <button onclick="showDay(2)" id="btn-day-2" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all">5/4 (ä¸€)</button>
                        <button onclick="showDay(3)" id="btn-day-3" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all">5/5 (äºŒ)</button>
                        <button onclick="showDay(4)" id="btn-day-4" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all">5/6 (ä¸‰)</button>
                        <button onclick="showDay(5)" id="btn-day-5" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all">5/7 (å››)</button>
                        <button onclick="showDay(6)" id="btn-day-6" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all">5/8 (äº”)</button>
                        <button onclick="showDay(7)" id="btn-day-7" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all">5/9 (å…­)</button>
                        <button onclick="showDay(8)" id="btn-day-8" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all">5/10 (æ—¥)</button>
                        <button onclick="showDay(9)" id="btn-day-9" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all">5/11 (ä¸€)</button>
                        <button onclick="showDay(10)" id="btn-day-10" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all">5/12 (äºŒ)</button>
                    </div>
                </section>
            </div>
        </nav>

        <!-- Main Content -->
        <main id="content" class="flex-grow p-6 md:p-16 overflow-y-auto max-h-screen bg-white">
            
            <!-- SECTION: FLIGHT -->
            <div id="section-flight" class="section hidden animate-fadeIn">
                <h2 class="serif text-3xl mb-10 text-[#6d5d4b]">âœˆï¸ èˆªç­æ™‚å…‰</h2>
                <div class="space-y-12 text-sm">
                    <div class="relative pl-8 border-l border-[#eee7de]">
                        <div class="absolute -left-1 top-0 w-2 h-2 rounded-full bg-[#a68d71]"></div>
                        <p class="text-[10px] text-[#a68d71] uppercase tracking-widest mb-1">å»ç¨‹ DEPARTURE</p>
                        <p class="text-xl serif text-[#4a4a4a]">05/03 (æ—¥) å°åŒ— 00:30 â†’ ç¾…é¦¬ 13:25</p>
                        <p class="text-xs text-slate-400 mt-2 font-light">é˜¿è¯é…‹èˆªè±ªç¶“è‰™ï¼Œæœæ‹œ (DXB) è½‰æ©Ÿã€‚æŠµé”ç•¶å¤© 15:00 å·¦å³å¯å…¥ä½é£¯åº—ã€‚</p>
                    </div>
                    <div class="relative pl-8 border-l border-[#eee7de]">
                        <div class="absolute -left-1 top-0 w-2 h-2 rounded-full bg-[#a68d71]"></div>
                        <p class="text-[10px] text-[#a68d71] uppercase tracking-widest mb-1">å›ç¨‹ RETURN</p>
                        <p class="text-xl serif text-[#4a4a4a]">05/12 (äºŒ) ç¾…é¦¬ 10:00 â†’ å°åŒ— 16:30 (+1)</p>
                        <p class="text-xs text-slate-400 mt-2 font-light">
                            05/12 æ—©ä¸Š FCO å‡ºç™¼ã€‚é è¨ˆ 05/13 (ä¸‰) ä¸‹åˆæŠµå°ï¼Œåœ“æ»¿çµæŸã€‚
                        </p>
                    </div>
                </div>
            </div>

            <!-- SECTION: BUDGET -->
            <div id="section-budget" class="section hidden animate-fadeIn text-sm">
                <h2 class="serif text-3xl mb-10 text-[#6d5d4b]">ğŸ’° æ—…è²»ç¶“è²»è©³åˆ— (å…©äººé ä¼°)</h2>
                <div class="space-y-8">
                    <section>
                        <h3 class="text-xs font-bold text-[#a68d71] uppercase tracking-widest mb-4 border-b border-[#eee7de] pb-1">å¤§å®—æ”¯å‡º</h3>
                        <table class="w-full text-xs">
                            <tr class="h-10"><td>é˜¿è¯é…‹è±ªç¶“è‰™ (å·²ä»˜)</td><td class="text-right italic">NT$ 105,634</td></tr>
                            <tr class="h-10"><td>é£¯åº—ä½å®¿æ¦‚ç®— (9æ™š)</td><td class="text-right italic">~ NT$ 63,000</td></tr>
                        </table>
                    </section>
                    <section>
                        <h3 class="text-xs font-bold text-[#a68d71] uppercase tracking-widest mb-4 border-b border-[#eee7de] pb-1">äº¤é€šèˆ‡å¿…å‚™ç¾é‡‘</h3>
                        <table class="w-full text-xs">
                            <tr class="h-10"><td>Italo é«˜éµ & æ©Ÿå ´å¿«ç·š</td><td class="text-right italic">~ NT$ 4,500</td></tr>
                            <tr class="h-10"><td>æ‰˜æ–¯å¡å°¼ç§Ÿè»Š (å«å…¨éšª)</td><td class="text-right italic">~ NT$ 8,500</td></tr>
                            <tr class="h-10"><td>åŸå¸‚ç¨… City Tax (é è¨ˆç¾çµ)</td><td class="text-right italic">~ â‚¬120 (NT$ 4,200)</td></tr>
                            <tr class="h-10"><td>é¤é£²æ¡Œè²» Coperto (é è¨ˆç¾é‡‘)</td><td class="text-right italic">~ â‚¬80 (NT$ 2,800)</td></tr>
                        </table>
                    </section>
                </div>
                <div class="mt-10 p-6 bg-[#fcfbf9] rounded-2xl border border-[#eee7de] text-center">
                    <p class="serif text-2xl text-[#a68d71]">ç¸½ä¼°è¨ˆï¼šNT$ 233,384</p>
                </div>
            </div>

            <!-- SECTION: DAY (DYNAMIC) -->
            <div id="section-day" class="section">
                <div id="day-header-area"></div>
                <div id="map"></div>
                <div id="day-summary" class="mb-8 text-[10px] text-[#94a187] tracking-widest uppercase font-bold"></div>
                <div id="day-content"></div>
                <div id="day-stay-footer"></div>
            </div>

        </main>
    </div>

    <!-- Leaflet Maps JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const days = [
            {
                day: 1, date: "5/3 (æ—¥)", title: "ç¾…é¦¬çš„ç¬¬ä¸€çœ¼æ™‚åˆ»", desc: "æŠµé”é¦–æ—¥ä¸è¶•è·¯ã€‚åœ¨ç‰¹æ‹‰æ–¯ç‰¹ç¶­èŠçš„é»ƒè‰²å··å¼„è£¡ç‰½æ‰‹æ•£æ­¥ï¼Œå–æ¯ Spritz æ…¶ç¥èœœæœˆé–‹å§‹ã€‚",
                stay: "ç¾…é¦¬ Romeï½œIQ Hotel Roma æˆ–åŒç´š",
                stats: "é ä¼°ç§»å‹•ï¼š35km | äº¤é€šï¼šLeonardo Express + ğŸš¶ æ­¥è¡Œ",
                center: [41.889, 12.467], zoom: 14,
                spots: [
                    { name: "ç¾…é¦¬ FCO æ©Ÿå ´", lat: 41.799, lng: 12.246, time: "45 min", transport: "ğŸš† æ©Ÿå ´å¿«ç·š", note: "æ©Ÿå ´ç›´é”å¸‚å€" },
                    { name: "è¶Šå°ä¼¯æ²³å€ Trastevere", lat: 41.889, lng: 12.467, time: "3 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "é»ƒè‰²å··å¼„æ•£ç­–" }
                ],
                slowlife: "åœ¨è·¯é‚Šå°é…’é¤¨æˆ¶å¤–åº§åä¸‹ï¼Œçœ‹è‘—ç¾…é¦¬å¤•é™½ç·©ç·©è½ä¸‹ï¼Œæ„Ÿå—æ…¢æ´»çš„ç¬¬ä¸€åˆ»ã€‚",
                photo: "GR3x æ­£ç‰‡æ¨¡å¼ï¼Œæ•æ‰å··å¼„ç‰†é¢ä¸Šçš„å…‰å½±èˆ‡è”“è—¤ã€‚",
                todo: ["è¾¦ç†å…¥ä½", "è²· SIM å¡", "é‡‘æ¯å’–å•¡è±†è³¼è²·"]
            },
            {
                day: 2, date: "5/4 (ä¸€)", title: "æ¢µè’‚å²¡ï¼šéˆé­‚çš„å»ºç¯‰", desc: "æ—©ä¸Šçœ‹è¥¿æ–¯æ±€å°å ‚çš„å£¯è§€ï¼Œä¸‹åˆåœ¨è–å½¼å¾—å»£å ´æ‹é›„å‰çš„æŸ±å»Šã€‚",
                stay: "ç¾…é¦¬ Romeï½œIQ Hotel Roma",
                stats: "é ä¼°ç§»å‹•ï¼š5km | äº¤é€šï¼šğŸš¶ æ­¥è¡Œ / åœ°éµ",
                center: [41.903, 12.458], zoom: 15,
                spots: [
                    { name: "æ¢µè’‚å²¡åšç‰©é¤¨", lat: 41.906, lng: 12.453, time: "4.5 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "æå‰ 60 å¤©æ¶ç¥¨" },
                    { name: "è–å½¼å¾—å¤§æ•™å ‚", lat: 41.902, lng: 12.453, time: "2 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "ä¸‹åˆæ•æ‰ã€ç¥ä¹‹å…‰ã€" },
                    { name: "è–å¤©ä½¿æ©‹å¤œæ™¯", lat: 41.903, lng: 12.466, time: "1 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "å°ä¼¯æ²³å¤•é™½" }
                ],
                slowlife: "å‚æ™šåœ¨è–å¤©ä½¿æ©‹ä¸Šçœ‹è‘—æ²³æ°´ï¼Œé€™æ˜¯æœ€é©åˆä»€éº¼éƒ½ä¸åšçš„èœœæœˆæ™‚å…‰ã€‚",
                photo: "A6700 å»£è§’æ•æ‰ç©¹é ‚éœ‡æ’¼ã€‚GR3x é©åˆæ‹æ©‹ä¸Šçš„é›•åƒç‰¹å¯«ã€‚",
                todo: ["æª¢æŸ¥æœè£è¦å®š", "é ç´„ 09:00 å…¥å ´"]
            },
            {
                day: 3, date: "5/5 (äºŒ)", title: "ç«¶æŠ€å ´ï¼šåƒå¹´ä¹‹å…‰", desc: "æ‹ç«¶æŠ€å ´çš„æ­·å²å¼µåŠ›ã€‚éš¨å¾Œæ¼«æ­¥è‡³è¬ç¥æ®¿ï¼Œé«”é©—ç¾…é¦¬æœ€ç²¾è¯çš„åœ°é»ã€‚",
                stay: "ç¾…é¦¬ Romeï½œIQ Hotel Roma",
                stats: "é ä¼°ç§»å‹•ï¼š6km | äº¤é€šï¼šğŸš¶ å…¨æ­¥è¡Œ",
                center: [41.895, 12.485], zoom: 14,
                spots: [
                    { name: "ç¾…é¦¬ç«¶æŠ€å ´", lat: 41.890, lng: 12.492, time: "2.5 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "æå‰ 30 å¤©æ¶åœ°ä¸‹å±¤" },
                    { name: "è¬ç¥æ®¿", lat: 41.898, lng: 12.476, time: "1.5 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "å¤©çª—å…‰å½±æ—‹è½‰" },
                    { name: "è¨±é¡˜æ± ", lat: 41.901, lng: 12.483, time: "1 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "äººæ½®å¤šï¼Œå»ºè­°æ—©æˆ–æ™š" }
                ],
                slowlife: "å»é‡‘æ¯å’–å•¡è²·å€‹å’–å•¡å†°æ²™ (Granita)ï¼Œååœ¨è¬ç¥æ®¿å‰çš„å™´æ³‰æ—çœ‹è·¯äººï¼Œæ¥µåº¦æ‚ é–’ã€‚",
                photo: "A6700 æœ›é ç«¯æ•æ‰ç«¶æŠ€å ´çŸ³ç£šç´‹ç†ã€‚è¬ç¥æ®¿å…§ GR3x ç›²æ‹æ¥µæœ‰æ°›åœã€‚",
                todo: ["ç¢ºèªæ¶ç¥¨æ—¥æœŸ", "æœå°‹ Tonnarello é¤å»³"]
            },
            {
                day: 4, date: "5/6 (ä¸‰)", title: "ç¾…é¦¬ç§æˆ¿æ™¯é»èˆ‡æ–‡é’é€›è¡—", desc: "ç¾…é¦¬åŠ ç¢¼æ—¥ã€‚çœ‹ä¸€çœ¼ä¸‰åœ‹çš„ç¥•å¯†é‘°åŒ™å­”ï¼Œä¸‹åˆå»æ–‡è—çš„ Monti å€æ‰¾å°‹è¨­è¨ˆå¸«å°åº—ã€‚",
                stay: "ç¾…é¦¬ Romeï½œIQ Hotel Roma (æœ€å¾Œä¸€æ™š)",
                stats: "é ä¼°ç§»å‹•ï¼š7km | äº¤é€šï¼šğŸš¶ æ­¥è¡Œ / å·´å£«",
                center: [41.888, 12.485], zoom: 14,
                spots: [
                    { name: "é¦¬çˆ¾ä»–é¨å£«åœ˜é‘°åŒ™å­”", lat: 41.883, lng: 12.477, time: "1.5 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "ä¸€çœ¼çœ‹ä¸‰åœ‹ç§æˆ¿é»" },
                    { name: "Monti å€", lat: 41.894, lng: 12.489, time: "3 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "æ–‡é’è¨­è¨ˆå¸«åº—é‹ª" }
                ],
                slowlife: "åœ¨ Monti å€çš„å°åº—è£¡æ…¢æŒ‘é¦–é£¾ï¼Œæ‰¾é–“å¤è‘—åº—å¹« Sherry æŒ‘ä»¶ç‰¹è‰²å–®å“ã€‚",
                photo: "GR3x æƒè¡—é¦–é¸ã€‚æ•æ‰ Monti å€å……æ»¿å±¤æ¬¡æ„Ÿçš„éšæ¢¯èˆ‡è€å»ºç¯‰ã€‚",
                todo: ["é‘°åŒ™å­”æ’éšŠç´„ 20 åˆ†é˜", "æ‰¾å°‹ Fatamorgana å†°æ·‡æ·‹"]
            },
            {
                day: 5, date: "5/7 (å››) ", title: "å‰å¾€ç¿¡å†·ç¿ ï¼šæ–‡è—é¦–èˆª", desc: "æ­ä¹˜é«˜éµè½‰ç§»åŸå¸‚ã€‚ä¸‹åˆçœ‹è–æ¯ç™¾èŠ±å¤§æ•™å ‚çš„ã€å¤©å ‚ä¹‹é–€ã€ï¼Œå“åšåœ°é“ç¾å‘³ã€‚",
                stay: "ä½›ç¾…å€«æ–¯ Florenceï½œ25hours Hotel æˆ–åŒç´š",
                stats: "é ä¼°ç§»å‹•ï¼š280km | äº¤é€šï¼šğŸš„ Italo é«˜éµ + ğŸš¶ æ­¥è¡Œ",
                center: [43.773, 11.255], zoom: 15,
                spots: [
                    { name: "Firenze SMN è»Šç«™", lat: 43.776, lng: 11.247, time: "1.5 hr", transport: "ğŸš„ Italo Prima è‰™", note: "2æœˆè¨‚æ—©é³¥ç¥¨" },
                    { name: "è–æ¯ç™¾èŠ±å¤§æ•™å ‚", lat: 43.773, lng: 11.256, time: "2.5 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "Brunelleschi Pass" },
                    { name: "ä½›ç¾…å€«æ–¯ä¸­å¤®å¸‚å ´", lat: 43.776, lng: 11.253, time: "1.5 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "å¿…åƒç‰›è‚šåŒ…" }
                ],
                slowlife: "åœ¨ä¸­å¤®å¸‚å ´ Da Nerbone æ’éšŠè²·ä»½ç‰›è‚šåŒ…ï¼Œåƒç•¶åœ°äººä¸€æ¨£éš¨æ„åœ°ååœ¨å¸‚å ´æ—äº«ç”¨ã€‚",
                photo: "A6700 æ‹ç´…ç£šç©¹é ‚å¤§æ™¯ã€‚æ•™å ‚å‘¨é‚Šç´°ç¯€å¤šï¼ŒGR3x é©åˆæ‹å¹¾ä½•ç¾æ„Ÿã€‚",
                todo: ["åˆ‡æ› CUBE è¶£æ—…è¡Œ", "ç¢ºèªé£¯åº— ZTL é‚Šç•Œ"]
            },
            {
                day: 6, date: "5/8 (äº”)", title: "ç¾è¡“é¤¨èˆ‡æ²³å²¸è·äººå·¥è—", desc: "æ²‰æµ¸åœ¨åç•«ä¹‹ä¸­ï¼Œä¸‹åˆè·¨éé˜¿è«¾æ²³æ‰¾å°‹è·äººçš®é©èˆ‡æ‰‹è£½ç´™å·¥åŠã€‚",
                stay: "ä½›ç¾…å€«æ–¯ Florenceï½œ25hours Hotel",
                stats: "é ä¼°ç§»å‹•ï¼š4km | äº¤é€šï¼šğŸš¶ å…¨æ­¥è¡Œ",
                center: [43.768, 11.252], zoom: 15,
                spots: [
                    { name: "çƒè²èŒ²ç¾è¡“é¤¨", lat: 43.767, lng: 11.255, time: "4 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "é è¨‚ Uffizi é–€ç¥¨" },
                    { name: "Oltrarno å€", lat: 43.767, lng: 11.247, time: "3 hr", transport: "ğŸš¶ æ­¥è¡Œè·¨æ²³", note: "çš®é©èˆ‡æ‰‹å·¥è—å»Š" }
                ],
                slowlife: "ä¸‹åˆåœ¨ Oltrarno å€æ‰¾é–“çš®é©å·¥åŠï¼Œçœ‹è·äººå°ˆæ³¨å·¥ä½œçš„é›™æ‰‹ï¼Œæ„Ÿå—æ™‚é–“æ…¢ä¸‹ä¾†çš„é‡é‡ã€‚",
                photo: "A6700 æ•æ‰è·äººç‰¹å¯«ã€‚çƒè²èŒ²ç¾è¡“é¤¨èµ°å»Šçš„å…‰å½±éå¸¸è¿·äººã€‚",
                todo: ["æª¢æŸ¥ç›¸æ©Ÿå‚™ä»½", "é ç´„ Bistecca å¤§ç‰›æ’"]
            },
            {
                day: 7, date: "5/9 (å…­)", title: "å®®æ®¿è—¥å¦åº—èˆ‡è½æ—¥æ­Œè²", desc: "èµ°è¨ªå…¨çƒæœ€ç¾è—¥å¦åº—ï¼Œå‚æ™šåœ¨ç±³é–‹æœ—åŸºç¾…å»£å ´åè‘—ï¼Œè½è¡—é ­è—äººå”±æ­Œã€ç­‰æ—¥è½ã€‚",
                stay: "ä½›ç¾…å€«æ–¯ Florenceï½œ25hours Hotel (æœ€å¾Œä¸€æ™š)",
                stats: "é ä¼°ç§»å‹•ï¼š3km | äº¤é€šï¼šğŸš¶ æ­¥è¡Œ + çˆ¬å¡",
                center: [43.765, 11.258], zoom: 15,
                spots: [
                    { name: "SMN ç™¾å¹´è—¥å¦åº—", lat: 43.774, lng: 11.248, time: "2 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "å®®æ®¿èˆ¬çš„ç¾ç…§è–åœ°" },
                    { name: "ç±³é–‹æœ—åŸºç¾…å»£å ´", lat: 43.763, lng: 11.265, time: "2.5 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "ç™¾è¬ç´šè½æ—¥" }
                ],
                slowlife: "è²·ç“¶ç´…ç™½é…’èˆ‡å°é›¶é£Ÿï¼Œåœ¨å»£å ´éšæ¢¯ä¸Šéš¨ä¾¿åä¸‹ï¼Œè½è‘—è¡—é ­è—äººçš„æ­Œè²ç­‰å¤©é»‘ã€‚",
                photo: "åœ¨è—¥å¦åº—å¹« Sherry æ‹æ—¥é›œé¢¨ã€‚å»£å ´æ—¥è½ç”¨ A6700 é•·ç„¦æ®µæ‹æ•™å ‚å‰ªå½±ã€‚",
                todo: ["å¸¶é–‹ç“¶å™¨å»å»£å ´", "ç¢ºèªæ—¥è½æ™‚é–“ 20:10"]
            },
            {
                day: 8, date: "5/10 (æ—¥)", title: "è‡ªé§•é–‹å•Ÿï¼šæ‰˜æ–¯å¡å°¼å¿«é–ƒ", desc: "å–è»Šå‡ºç™¼ï¼ç©¿æ¢­åœ¨çµ²æŸå¤§é“é–“ï¼Œå‚æ™šåœ¨ Baccoleno ç­‰å¾… S å‹æ›²ç·šå¤•é™½ã€‚",
                stay: "æ‰˜æ–¯å¡å°¼è¾²èŠï½œIl Casalino æˆ–åŒç´š",
                stats: "é ä¼°ç§»å‹•ï¼š120km | äº¤é€šï¼šğŸš— ç§Ÿè»Šè‡ªé§•",
                center: [43.400, 11.450], zoom: 9,
                spots: [
                    { name: "SMN å–è»Šé»", lat: 43.776, lng: 11.247, time: "1 hr", transport: "ğŸš— å–è»Š", note: "2æœˆé è¨‚è‡ªæ’è»Š" },
                    { name: "éŒ«è€¶ç´ Siena", lat: 43.318, lng: 11.331, time: "3 hr", transport: "ğŸš— é–‹è»Š", note: "æ‰‡å½¢å»£å ´æ”å½±" },
                    { name: "Baccoleno çµ²æŸä¹‹è·¯", lat: 43.201, lng: 11.583, time: "2 hr", transport: "ğŸš— é–‹è»Š", note: "S å‹æ›²ç·šï¼Œå¤•é™½å¿…æ‹" }
                ],
                slowlife: "å…¥ä½è¾²èŠå¾Œï¼Œæ¨é–‹çª—æˆ¶çœ‹æ˜Ÿç©ºã€‚æ„Ÿå—æ‰˜æ–¯å¡å°¼å¤§åœ°çš„éœè¬ï¼Œé€™æ˜¯å…©äººçš„ä¸–ç•Œã€‚",
                photo: "ç›¸æ©Ÿéš¨èº«ã€‚Baccoleno å»ºè­°ç”¨ A6700 é•·ç„¦å¢åŠ å£“ç¸®æ„Ÿèˆ‡å¼µåŠ›ã€‚",
                todo: ["éŒ„å½±éŒ„è£½ç§Ÿè»Šè»Šæ³", "è¨­å®š Waze é¿é–‹ ZTL"]
            },
            {
                day: 9, date: "5/11 (ä¸€)", title: "å¤©ç©ºä¹‹åŸï¼šæ­¸é€”èˆ‡ç‡­å…‰", desc: "é€ è¨ªå­¤åŸ Civilta çš„å¤¢å¹»æ„Ÿã€‚å›ç¾…é¦¬é‚„è»Šå¾Œï¼Œåœ¨è¬ç¥æ®¿æ—åƒæµªæ¼«æ™šé¤ã€‚",
                stay: "ç¾…é¦¬ Romeï½œTermini è»Šç«™æ— (æ–¹ä¾¿éš”å¤©æ­æ©Ÿ)",
                stats: "é ä¼°ç§»å‹•ï¼š210km | äº¤é€šï¼šğŸš— é–‹è»Š + æ©Ÿå ´é‚„è»Š",
                center: [42.300, 12.300], zoom: 9,
                spots: [
                    { name: "å¤©ç©ºä¹‹åŸ Civita", lat: 42.627, lng: 12.113, time: "3 hr", transport: "ğŸš— é–‹è»Š", note: "æ­¥è¡Œé•·æ©‹é€²å…¥å±±åŸ" },
                    { name: "Rome é‚„è»Šé»", lat: 41.796, lng: 12.251, time: "2 hr", transport: "ğŸš— é‚„è»Š", note: "16:00 å‰é‚„è»Šé¿å…å£“åŠ›" }
                ],
                slowlife: "æœ€å¾Œä¸€æ™šåœ¨è¬ç¥æ®¿é™„è¿‘æ‰¾é–“ç‡­å…‰é¤é¤¨ï¼Œå›å‘³é€™è¶Ÿæ—…ç¨‹ï¼Œé€™æ˜¯é€çµ¦å½¼æ­¤çš„æµªæ¼«ã€‚",
                photo: "æ‹æ”é•·æ©‹ Sherry çš„èƒŒå½±ï¼Œå°æ¯”å±±åŸçš„å£¯é—Šèˆ‡å­¤ç¨ã€‚ä¸‹åˆå…‰å½±æœ€æœ‰æ•…äº‹ã€‚",
                todo: ["é‚„è»Šå‰åŠ æ»¿æ²¹", "æª¢æŸ¥è¡Œææ˜¯å¦å…¨æ•¸å¸¶èµ°"]
            },
            {
                day: 10, date: "5/12 (äºŒ)", title: "å¸¶è‘—å›æ†¶ï¼Œå•Ÿç¨‹å›å®¶", desc: "æœ€å¾Œä¸€ä»½ç¾©å¤§åˆ©æ—©é¤ã€‚å¸¶è‘—ç…§ç‰‡èˆ‡ç¦®ç‰©ï¼Œåœ“æ»¿çµæŸ 2026 çš„å¤å¤©ã€‚",
                stay: "é£›æ©Ÿä¸Šï½œé˜¿è¯é…‹èˆªè±ªç¶“è‰™",
                stats: "é ä¼°ç§»å‹•ï¼šæ¥é§å‰å¾€æ©Ÿå ´",
                center: [41.799, 12.246], zoom: 13,
                spots: [
                    { name: "ç¾…é¦¬ FCO æ©Ÿå ´", lat: 41.799, lng: 12.246, time: "3 hr", transport: "ğŸš† æ©Ÿå ´æ¥é§", note: "é€€ç¨…èˆ‡æ¡è²·" }
                ],
                slowlife: "åœ¨é£›æ©Ÿä¸Šç¿»é–±é€™åå¤©çš„ç…§ç‰‡ï¼Œèˆ‡ Sherry ä¸€èµ·é¸å‡ºæœ€æ„›çš„é‚£ä¸€å¼µã€‚",
                photo: "æ‹æ‹æ©Ÿå ´çª—å¤–èˆ‡è­·ç…§æ©Ÿç¥¨ï¼Œç´€éŒ„æ—…ç¨‹çš„çµ‚ç« ã€‚",
                todo: ["09:00 å‰æŠµé”æ©Ÿå ´", "æ ¸å°é€€ç¨…å–®æ“š"]
            }
        ];

        // Initialize Map
        let map = L.map('map').setView([41.890, 12.480], 13);
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', { attribution: '&copy; OSM' }).addTo(map);

        let markers = [];
        let activeRoute = null;

        function switchTab(tab) {
            document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('tab-active'));
            document.getElementById('section-' + tab).classList.remove('hidden');
            document.getElementById('tab-' + tab).classList.add('tab-active');
        }

        function showDay(n) {
            document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
            document.getElementById('section-day').classList.remove('hidden');
            document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('day-btn-active'));
            document.getElementById('btn-day-' + n).classList.add('day-btn-active');
            
            const day = days[n-1];
            
            // Map Logic
            markers.forEach(m => map.removeLayer(m));
            markers = [];
            if (activeRoute) { map.removeLayer(activeRoute); activeRoute = null; }

            const pathCoordinates = [];
            day.spots.forEach(s => {
                const marker = L.marker([s.lat, s.lng]).addTo(map).bindPopup(`<b>${s.name}</b>`);
                markers.push(marker);
                pathCoordinates.push([s.lat, s.lng]);
            });

            if (pathCoordinates.length > 1) {
                activeRoute = L.polyline(pathCoordinates, { color: '#a68d71', weight: 3, opacity: 0.6, dashArray: '10, 10' }).addTo(map);
            }
            map.setView(day.center, day.zoom);

            // Update UI
            document.getElementById('day-header-area').innerHTML = `
                <div class="animate-fadeIn mb-6 text-sm">
                    <div class="flex flex-col md:flex-row md:items-end justify-between mb-4 pb-4 border-b border-[#eee7de]">
                        <h2 class="serif text-2xl md:text-3xl text-[#6d5d4b]">${day.date} ${day.title}</h2>
                        <span class="text-[10px] text-[#a68d71] font-bold tracking-[0.3em] mt-2 md:mt-0 uppercase">Day ${day.day}</span>
                    </div>
                </div>
            `;
            document.getElementById('day-summary').innerHTML = `<span>${day.stats}</span>`;

            const content = `
                <div class="animate-fadeIn">
                    <p class="text-sm text-slate-400 mb-8 leading-loose italic font-light">"${day.desc}"</p>
                    
                    <div class="mb-10 p-6 bg-[#fcfbf9] rounded-2xl border border-[#eee7de] border-l-4 border-l-[#94a187]">
                        <h3 class="serif text-sm font-bold text-[#94a187] mb-2">æ…¢æ´»æ™‚å…‰ (Slow Life)</h3>
                        <p class="text-xs text-slate-600 leading-relaxed italic">${day.slowlife}</p>
                    </div>

                    <div class="space-y-4 mb-12 text-sm">
                        <p class="text-[10px] font-bold text-[#b5a391] uppercase tracking-widest mb-4">æ•£ç­–ç¯€é» & åœ°åœ–å°èˆª</p>
                        ${day.spots.map(s => `
                            <div class="flex flex-col p-4 bg-white rounded-xl border border-[#eee7de] hover:border-[#a68d71] transition-all group">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center">
                                        <p class="font-medium text-[#4a4a4a] mr-2">${s.name}</p>
                                        <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(s.name)}" target="_blank" class="text-[#a68d71] hover:underline">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                            </svg>
                                        </a>
                                    </div>
                                    <span class="text-[10px] text-white bg-[#d8c4b6] px-2 py-1 rounded-full font-bold">${s.time}</span>
                                </div>
                                <div class="flex items-center text-[10px] text-[#94a187] font-medium">
                                    <span>${s.transport}</span>
                                    <span class="mx-2 text-[#eee7de]">|</span>
                                    <span class="text-slate-400 font-light italic">${s.note}</span>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                        <div class="p-6 bg-[#f7f3f0] rounded-2xl border border-[#eee7de]">
                            <h3 class="serif text-sm font-bold text-[#6d5d4b] mb-4">ğŸ“¸ æ”å½±ç­†è¨˜</h3>
                            <p class="text-xs text-[#8a7a6a] leading-loose">${day.photo}</p>
                        </div>
                        <div class="p-6">
                            <h3 class="serif text-sm font-bold text-[#6d5d4b] mb-4">âœ… éš¨æ‰‹æ¸…å–®</h3>
                            <ul class="text-[11px] space-y-3">
                                ${day.todo.map((t, idx) => `
                                    <li class="flex items-center">
                                        <input type="checkbox" id="todo-${n}-${idx}" onchange="toggleTodo('todo-${n}-${idx}')" class="mr-3 accent-[#a68d71]">
                                        <label for="todo-${n}-${idx}" class="cursor-pointer hover:text-[#a68d71] transition-colors">${t}</label>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('day-content').innerHTML = content;

            document.getElementById('day-stay-footer').innerHTML = `
                <div class="animate-fadeIn mt-16 p-10 bg-[#fcfbf9] rounded-3xl border-2 border-[#eee7de] text-center border-dashed">
                    <p class="text-[10px] text-[#b5a391] uppercase tracking-[0.3em] mb-4">Accommodation Tonight</p>
                    <h4 class="serif text-xl md:text-3xl text-[#6d5d4b] font-bold">ğŸ¡ ä»Šæ™šä¸‹æ¦»ï¼š${day.stay}</h4>
                    <p class="text-[11px] text-slate-400 mt-4 italic font-light">ç¥ æœ‰å€‹å¥½å¤¢èˆ‡é£½æ»¿çš„å›æ†¶</p>
                </div>
            `;
        }

        function toggleTodo(id) { document.querySelector(`label[for="${id}"]`).classList.toggle('checked'); }

        window.onload = () => { switchTab('flight'); showDay(1); switchTab('flight'); };
    </script>
</body>
</html>
