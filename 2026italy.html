<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayao & Sherry ç¾©å¤§åˆ©èœœæœˆæ•£ç­– 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Noto+Sans+TC:wght@300;400;500&display=swap" rel="stylesheet">
    <!-- Leaflet Maps CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root {
            --cafe-bg: #fdfaf7;
            --cafe-paper: #ffffff;
            --cafe-text: #4a4a4a;
            --cafe-accent: #a68d71;
            --cafe-muted: #d8c4b6;
            --cafe-green: #94a187;
        }
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background-color: var(--cafe-bg); 
            color: var(--cafe-text);
            letter-spacing: 0.02em;
        }
        .serif { font-family: 'Noto Serif TC', serif; letter-spacing: 0.05em; }
        .tab-active { 
            color: var(--cafe-accent); 
            font-weight: 600; 
            border-bottom: 2px solid var(--cafe-accent);
        }
        .checked { text-decoration: line-through; color: #b5b5b5; opacity: 0.6; }
        .card-shadow { box-shadow: 0 10px 30px -10px rgba(166, 141, 113, 0.15); }
        .day-btn-active { background-color: var(--cafe-accent); color: white; border-radius: 8px; }
        
        .paper-texture {
            background-image: url("https://www.transparenttextures.com/patterns/natural-paper.png");
        }

        #map { height: 320px; border-radius: 16px; border: 1px solid #eee7de; margin-bottom: 24px; z-index: 10; }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--cafe-bg); }
        ::-webkit-scrollbar-thumb { background: var(--cafe-muted); border-radius: 10px; }
        
        .animate-fadeIn { animation: fadeIn 0.6s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="paper-texture">

    <div class="max-w-6xl mx-auto min-h-screen flex flex-col md:flex-row my-0 md:my-10 card-shadow rounded-none md:rounded-3xl overflow-hidden bg-white">
        
        <!-- Sidebar Navigation -->
        <nav class="w-full md:w-72 bg-[#f9f5f0] border-r border-[#eee7de] p-8 flex-shrink-0">
            <div class="mb-12 text-center md:text-left">
                <h1 class="serif text-2xl text-[#6d5d4b] font-bold leading-relaxed tracking-widest">
                    ç¾©å¤§åˆ©èœœæœˆæ•£ç­–<br>
                    <span class="text-sm font-light text-[#a68d71]">Ayao & Sherry 2026</span>
                </h1>
                <div class="h-px w-12 bg-[#a68d71] mt-4 mx-auto md:mx-0"></div>
            </div>
            
            <div class="space-y-6 text-sm">
                <section>
                    <p class="text-[10px] font-bold text-[#b5a391] uppercase tracking-[0.2em] mb-4">æ¦‚è¦½</p>
                    <div class="flex flex-col space-y-2">
                        <button onclick="switchTab('flight')" id="tab-flight" class="text-left py-2 px-1 transition-all hover:text-[#a68d71]">âœˆï¸ èˆªç­è³‡è¨Š</button>
                        <button onclick="switchTab('budget')" id="tab-budget" class="text-left py-2 px-1 transition-all hover:text-[#a68d71] font-bold">ğŸ’° ç¶“è²»æ˜ç´°</button>
                        <button onclick="switchTab('klook')" id="tab-klook" class="text-left py-2 px-1 transition-all hover:text-[#a68d71] text-[#c0a48a]">ğŸ”¥ æ¶ç¥¨è­¦æˆ’</button>
                        <button onclick="switchTab('backup')" id="tab-backup" class="text-left py-2 px-1 transition-all hover:text-[#a68d71] text-[#94a187]">âœ¨ å…ç¥¨æ™¯é»</button>
                    </div>
                </section>
                
                <section>
                    <p class="text-[10px] font-bold text-[#b5a391] uppercase tracking-[0.2em] mb-4">æ—¥æœŸè¡Œç¨‹èˆ‡ç§»å‹•è·¯ç·š</p>
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="showDay(1)" id="btn-day-1" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] transition-all hover:bg-[#eee7de]">5/3 (æ—¥)</button>
                        <button onclick="showDay(2)" id="btn-day-2" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] transition-all hover:bg-[#eee7de]">5/4 (ä¸€)</button>
                        <button onclick="showDay(3)" id="btn-day-3" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] transition-all hover:bg-[#eee7de]">5/5 (äºŒ)</button>
                        <button onclick="showDay(4)" id="btn-day-4" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] transition-all hover:bg-[#eee7de]">5/6 (ä¸‰)</button>
                        <button onclick="showDay(5)" id="btn-day-5" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] transition-all hover:bg-[#eee7de]">5/7 (å››)</button>
                        <button onclick="showDay(6)" id="btn-day-6" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] transition-all hover:bg-[#eee7de]">5/8 (äº”)</button>
                        <button onclick="showDay(7)" id="btn-day-7" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] transition-all hover:bg-[#eee7de]">5/9 (å…­)</button>
                        <button onclick="showDay(8)" id="btn-day-8" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] transition-all hover:bg-[#eee7de]">5/10 (æ—¥)</button>
                        <button onclick="showDay(9)" id="btn-day-9" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] transition-all hover:bg-[#eee7de]">5/11 (ä¸€)</button>
                        <button onclick="showDay(10)" id="btn-day-10" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] transition-all hover:bg-[#eee7de]">5/12 (äºŒ)</button>
                    </div>
                </section>
            </div>
        </nav>

        <!-- Main Content -->
        <main id="content" class="flex-grow p-8 md:p-16 overflow-y-auto max-h-screen bg-white">
            
            <!-- SECTION: FLIGHT -->
            <div id="section-flight" class="section hidden animate-fadeIn">
                <h2 class="serif text-3xl mb-10 text-[#6d5d4b]">âœˆï¸ èˆªç­æ™‚å…‰</h2>
                <div class="space-y-12 text-sm">
                    <div class="relative pl-8 border-l border-[#eee7de]">
                        <div class="absolute -left-1 top-0 w-2 h-2 rounded-full bg-[#a68d71]"></div>
                        <p class="text-[10px] text-[#a68d71] uppercase tracking-widest mb-1">DEPARTURE å»ç¨‹</p>
                        <p class="text-xl serif text-[#4a4a4a]">05/03 (æ—¥) å°åŒ— 00:30 â†’ ç¾…é¦¬ 13:25</p>
                        <p class="text-xs text-slate-400 mt-2 font-light">é˜¿è¯é…‹èˆªè±ªç¶“è‰™ï¼Œæ–¼æœæ‹œ (DXB) è½‰æ©Ÿã€‚æŠµé”ç¾…é¦¬ FCO ç•¶å¤©å³å±•é–‹èœœæœˆã€‚</p>
                    </div>
                    <div class="relative pl-8 border-l border-[#eee7de]">
                        <div class="absolute -left-1 top-0 w-2 h-2 rounded-full bg-[#a68d71]"></div>
                        <p class="text-[10px] text-[#a68d71] uppercase tracking-widest mb-1">RETURN å›ç¨‹</p>
                        <p class="text-xl serif text-[#4a4a4a]">05/12 (äºŒ) ç¾…é¦¬ 10:00 â†’ å°åŒ— 15:30 (+1)</p>
                        <p class="text-xs text-slate-400 mt-2 font-light">
                            05/12 æ—©ä¸Šç¾…é¦¬ FCO å‡ºç™¼ï¼Œæœæ‹œè½‰æ©Ÿã€‚é è¨ˆæ–¼ 05/13 (ä¸‰) ä¸‹åˆæŠµé”å°åŒ— TPEã€‚<br>
                            å¸¶è‘—æ»¿è¼‰è¨˜æ†¶çš„é¡é ­èˆ‡ Sherry å›å®¶ã€‚
                        </p>
                    </div>
                </div>
            </div>

            <!-- SECTION: BUDGET -->
            <div id="section-budget" class="section hidden animate-fadeIn">
                <h2 class="serif text-3xl mb-10 text-[#6d5d4b]">ğŸ’° æ—…è²»ç¶“è²»è©³åˆ— (å…©äººé ä¼°)</h2>
                
                <div class="space-y-8">
                    <!-- Category: Fixed -->
                    <section>
                        <h3 class="text-xs font-bold text-[#a68d71] uppercase tracking-widest mb-4 border-b border-[#eee7de] pb-1">èˆªç©ºèˆ‡å¤§å®—æ”¯å‡º (èˆªç©ºå®˜ç¶²/è¨‚æˆ¿ç¶²)</h3>
                        <table class="w-full text-xs">
                            <tr class="h-10"><td>é˜¿è¯é…‹è±ªç¶“è‰™ (å·²ä»˜)</td><td class="text-right italic">NT$ 105,634</td></tr>
                            <tr class="h-10"><td>é£¯åº—ä½å®¿ (9æ™šé ç®—)</td><td class="text-right italic">~ NT$ 63,000</td></tr>
                        </table>
                    </section>

                    <!-- Category: Transport -->
                    <section>
                        <h3 class="text-xs font-bold text-[#a68d71] uppercase tracking-widest mb-4 border-b border-[#eee7de] pb-1">äº¤é€šæ˜ç´° (é ä¼° â‚¬450)</h3>
                        <table class="w-full text-xs">
                            <tr class="h-10"><td>Leonardo Express æ©Ÿå ´å¿«ç·š (â‚¬14x2x2)</td><td class="text-right italic">~ NT$ 2,000</td></tr>
                            <tr class="h-10"><td>Italo é«˜éµ (ç¾…é¦¬-ä½›ç¾…å€«æ–¯ å…©äºº)</td><td class="text-right italic">~ NT$ 2,500</td></tr>
                            <tr class="h-10"><td>æ‰˜æ–¯å¡å°¼ç§Ÿè»Š (3å¤©å«ä¿éšª)</td><td class="text-right italic">~ NT$ 8,500</td></tr>
                            <tr class="h-10"><td>æ²¹è³‡ã€åœè»Šè²»ã€éè·¯è²»é ä¼°</td><td class="text-right italic">~ NT$ 2,500</td></tr>
                        </table>
                    </section>

                    <!-- Category: On-site Cash -->
                    <section>
                        <h3 class="text-xs font-bold text-[#a68d71] uppercase tracking-widest mb-4 border-b border-[#eee7de] pb-1">ç¾å ´å¿…è¦æ”¯å‡º (å»ºè­°æº–å‚™ç¾é‡‘)</h3>
                        <table class="w-full text-xs">
                            <tr class="h-10"><td>åŸå¸‚ç¨… City Tax (ç¾…é¦¬/ç¿¡å†·ç¿ /è¾²èŠ)</td><td class="text-right italic">~ â‚¬120 (NT$ 4,200)</td></tr>
                            <tr class="h-10"><td>é¤é£²æ¡Œè²» Coperto (â‚¬2-3/äºº/é¤)</td><td class="text-right italic">~ â‚¬80 (NT$ 2,800)</td></tr>
                            <tr class="h-10"><td>æ¯æ—¥ä¸‰é¤èˆ‡ Gelato é ç®—</td><td class="text-right italic">~ â‚¬1000 (NT$ 35,000)</td></tr>
                        </table>
                    </section>
                </div>

                <div class="mt-10 p-8 bg-[#fcfbf9] rounded-2xl border border-[#eee7de] text-center card-shadow">
                    <p class="text-[10px] text-[#b5a391] uppercase tracking-widest mb-2">Estimated Total</p>
                    <p class="serif text-3xl text-[#a68d71]">NT$ 233,384</p>
                    <div class="mt-4 pt-4 border-t border-[#eee7de] flex justify-around text-[10px] text-slate-400">
                        <div>ğŸ’³ åˆ·å¡å›é¥‹ï¼šç´„ 6,800 é»</div>
                        <div>ğŸ’¶ å»ºè­°ç¾é‡‘ï¼šâ‚¬900</div>
                    </div>
                </div>
            </div>

            <!-- SECTION: KLOOK -->
            <div id="section-klook" class="section hidden animate-fadeIn">
                <h2 class="serif text-3xl mb-10 text-[#6d5d4b]">ğŸ”¥ æ¶ç¥¨è­¦æˆ’å€</h2>
                <div class="p-6 rounded-2xl border border-[#eee7de] bg-[#fdfdfd] text-sm">
                    <h4 class="serif text-lg text-[#4a4a4a] mb-2">ç¾…é¦¬ & ä½›ç¾…å€«æ–¯æ ¸å¿ƒæ™¯é»</h4>
                    <p class="text-xs text-slate-400 font-light leading-relaxed">ç«¶æŠ€å ´ã€æ¢µè’‚å²¡ã€ç™¾èŠ±å¤§æ•™å ‚ç™»é ‚å»ºè­°æå‰ 30-60 å¤©é ç´„ï¼Œæˆ–è³¼è²· Klook å°è¦½è¡Œç¨‹ã€‚</p>
                </div>
            </div>

            <!-- SECTION: BACKUP -->
            <div id="section-backup" class="section hidden animate-fadeIn">
                <h2 class="serif text-3xl mb-10 text-[#6d5d4b]">âœ¨ å…ç¥¨æ•£ç­–æ™¯é»</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 text-sm">
                    <div class="p-4 border-b border-[#eee7de]">
                        <p class="font-medium text-[#4a4a4a]">å¡æ¯”æ‰˜åˆ©æ­å±±å¾Œå´</p>
                        <p class="text-[10px] text-slate-400 mt-1 font-light italic">ä¿¯ç°ç¾…é¦¬éºè·¡çš„æœ€ä½³å…è²»æ”å½±ä½ã€‚</p>
                    </div>
                </div>
            </div>

            <!-- SECTION: DAY (DYNAMIC) -->
            <div id="section-day" class="section">
                <div id="day-header-area"></div>
                <!-- Interactive Map Area -->
                <div id="map"></div>
                <div id="day-content"></div>
            </div>

        </main>
    </div>

    <!-- Leaflet Maps JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const days = [
            {
                day: 1, date: "5/3 (æ—¥)", title: "æŠµé”ç¾…é¦¬ï¼šåˆè¦‹æ™‚åˆ»", desc: "ä¸­åˆæŠµé” FCO æ©Ÿå ´ï¼Œç¬¬ä¸€å¤©ä¸è¨­é™ï¼Œé©æ‡‰ç¾…é¦¬å··å¼„çš„åˆå¾Œå…‰å½±ã€‚",
                stay: "ç¾…é¦¬ Rome",
                center: [41.890, 12.420], zoom: 12,
                spots: [
                    { name: "FCO æ©Ÿå ´", lat: 41.799, lng: 12.246, time: "40 min", note: "æ­ä¹˜å¿«ç·š" },
                    { name: "è¶Šå°ä¼¯æ²³å€", lat: 41.889, lng: 12.467, time: "3 hr", note: "æ…¢æ¼«è¡—æ‹" }
                ],
                photo: "GR3x æ­£ç‰‡æ¨¡å¼ï¼Œæ•æ‰è”“è—¤èˆ‡å¤•é™½ã€‚",
                todo: ["è¾¦ç†å…¥ä½", "è¾¦ç† SIM å¡"]
            },
            {
                day: 2, date: "5/4 (ä¸€)", title: "æ¢µè’‚å²¡ï¼šéˆé­‚çš„å°ç¨±", desc: "æ·±å…¥å…¨ä¸–ç•Œæœ€å°çš„åœ‹å®¶ï¼Œæ„Ÿå—æ–‡è—å¾©èˆˆçš„æœ€é«˜æ®¿å ‚ã€‚",
                stay: "ç¾…é¦¬ Rome",
                center: [41.903, 12.458], zoom: 15,
                spots: [
                    { name: "æ¢µè’‚å²¡åšç‰©é¤¨", lat: 41.906, lng: 12.453, time: "4.5 hr", note: "æ—‹è½‰æ¨“æ¢¯é‡é»" },
                    { name: "è–å½¼å¾—å¤§æ•™å ‚", lat: 41.902, lng: 12.453, time: "2 hr", note: "ä¸‹åˆæ•æ‰ç¥å…‰" }
                ],
                photo: "A6700 å»£è§’æ•æ‰ç©¹é ‚ã€‚é€™å…©é»æ­¥è¡Œ 10 åˆ†é˜å…§ã€‚",
                todo: ["æ³¨æ„ç©¿è‘—è¦å®š", "QR Code å‚™å¦¥"]
            },
            {
                day: 3, date: "5/5 (äºŒ)", title: "ç«¶æŠ€å ´ï¼šåƒå¹´ä¹‹å…‰", desc: "æ­¥å…¥ç«¶æŠ€å ´ï¼Œéš¨å¾Œæ¼«æ­¥è‡³è¬ç¥æ®¿èˆ‡è¨±é¡˜æ± ã€‚",
                stay: "ç¾…é¦¬ Rome",
                center: [41.895, 12.485], zoom: 14,
                spots: [
                    { name: "ç¾…é¦¬ç«¶æŠ€å ´", lat: 41.890, lng: 12.492, time: "2.5 hr", note: "åœ°ä¸‹å±¤å°è¦½" },
                    { name: "è¬ç¥æ®¿", lat: 41.898, lng: 12.476, time: "1 hr", note: "ç©¹é ‚å…‰å½±" },
                    { name: "è¨±é¡˜æ± ", lat: 41.901, lng: 12.483, time: "1 hr", note: "äººæ½®çœ¾å¤š" }
                ],
                photo: "é€™ä¸‰é»å½¢æˆä¸€å€‹ä¸‰è§’å½¢ï¼Œæ­¥è¡Œç´„ 20-30 åˆ†é˜å¯ä¸²è¯ã€‚",
                todo: ["è²· Giolitti å†°æ·‡æ·‹", "ç©¿æœ€èˆ’é©çš„é‹"]
            },
            {
                day: 4, date: "5/6 (ä¸‰)", title: "ä½›ç¾…å€«æ–¯ï¼šæ–‡è—é¦–èˆª", desc: "æ­ä¹˜é«˜éµè½‰ç§»åˆ°å…¨ä¸–ç•Œæœ€æ–‡è—çš„åŸå¸‚ã€‚",
                stay: "ä½›ç¾…å€«æ–¯ Florence",
                center: [43.773, 11.255], zoom: 15,
                spots: [
                    { name: "Firenze SMN è»Šç«™", lat: 43.776, lng: 11.247, time: "1.5 hr", note: "é«˜éµæŠµé”" },
                    { name: "è–æ¯ç™¾èŠ±å¤§æ•™å ‚", lat: 43.773, lng: 11.256, time: "2 hr", note: "ç´…ç£šç©¹é ‚" }
                ],
                photo: "ä½›ç¾…å€«æ–¯éå¸¸è¿·ä½ ï¼Œä¸»è¦æ™¯é»èµ°è·¯éƒ½åœ¨ 15 åˆ†é˜å…§ã€‚",
                todo: ["ä¸­å¤®å¸‚å ´åƒç‰›è‚šåŒ…", "é£¯åº—åˆ‡æ› CUBE æ¬Šç›Š"]
            },
            {
                day: 5, date: "5/7 (å››)", title: "ç¾è¡“é¤¨èˆ‡æ²³å²¸è·äºº", desc: "ä¸Šåˆè§€å±•ï¼Œä¸‹åˆè·¨éé˜¿è«¾æ²³èµ°å…¥è·äººå€ã€‚",
                stay: "ä½›ç¾…å€«æ–¯ Florence",
                center: [43.768, 11.252], zoom: 15,
                spots: [
                    { name: "çƒè²èŒ²ç¾è¡“é¤¨", lat: 43.767, lng: 11.255, time: "4 hr", note: "æ·±åº¦æ”å½±" },
                    { name: "å­¸é™¢ç¾è¡“é¤¨", lat: 43.776, lng: 11.258, time: "1.5 hr", note: "å¤§è¡›åƒ" },
                    { name: "Oltrarno å€", lat: 43.767, lng: 11.247, time: "3 hr", note: "æ…¢æ¼«è¡—æ‹" }
                ],
                photo: "ä¸‰å€‹é»åœ¨æ²³çš„å…©å²¸ï¼Œå½¢æˆä¸€å€‹é•·æ–¹å½¢å‹•ç·šã€‚",
                todo: ["æª¢æŸ¥ç›¸æ©Ÿå‚™ä»½", "é ç´„ä½›ç¾…å€«æ–¯å¤§ç‰›æ’"]
            },
            {
                day: 6, date: "5/8 (äº”)", title: "è½æ—¥é¤˜æš‰ä¸‹çš„ç™¾è¬æ™¯è§€", desc: "æœ€å¾Œä¸€å¤©çš„ç¿¡å†·ç¿ ï¼ŒæŠŠå…‰å½±ç•™çµ¦ç±³é–‹æœ—åŸºç¾…å»£å ´ã€‚",
                stay: "ä½›ç¾…å€«æ–¯ Florence",
                center: [43.765, 11.258], zoom: 15,
                spots: [
                    { name: "è€æ©‹ Ponte Vecchio", lat: 43.768, lng: 11.253, time: "2 hr", note: "ä¼´æ‰‹ç¦®æ¡è²·" },
                    { name: "ç±³é–‹æœ—åŸºç¾…å»£å ´", lat: 43.763, lng: 11.265, time: "2.5 hr", note: "å¤•é™½æ‹æ”" }
                ],
                photo: "è€æ©‹èµ°å¾€å»£å ´éœ€è¦çˆ¬å¡ï¼Œç´„ 15-20 åˆ†é˜è·¯ç¨‹ã€‚",
                todo: ["å¸¶ç™½é…’å»å»£å ´", "ç¢ºèªæ—¥è½æ™‚é–“"]
            },
            {
                day: 7, date: "5/9 (å…­)", title: "è‡ªé§•é–‹å•Ÿï¼šæ‰˜æ–¯å¡å°¼", desc: "é ˜å–åº§é§•ï¼Œé§›å‘å¥§çˆ¾æ°å±±è°·ã€‚",
                stay: "å¥§çˆ¾æ°å±±è°·è¾²èŠ Val d'Orcia",
                center: [43.400, 11.450], zoom: 9,
                spots: [
                    { name: "SMN å–è»Šé»", lat: 43.776, lng: 11.247, time: "1 hr", note: "è‡ªé§•èµ·é»" },
                    { name: "éŒ«è€¶ç´ Siena", lat: 43.318, lng: 11.331, time: "3 hr", note: "æ‰‡å½¢å»£å ´" },
                    { name: "Baccoleno çµ²æŸä¹‹è·¯", lat: 43.201, lng: 11.583, time: "2 hr", note: "å¤•é™½å¡ä½" }
                ],
                photo: "é€™å¤©è·¯ç¨‹è¼ƒé•·ï¼Œé–‹è»Šæ™‚é–“ç´„ 2.5 å°æ™‚ï¼Œå±¬æ–¼å£¯é—Šå¤§æ™¯æ”å½±ã€‚",
                todo: ["éŒ„å½±è»Šæ³", "Waze è¨­å®š ZTL é¿é–‹"]
            },
            {
                day: 8, date: "5/10 (æ—¥)", title: "æ£®æ—æº«æ³‰èˆ‡ç†æƒ³åœ‹", desc: "æ¸…æ™¨æº«æ³‰ï¼Œä¸­åˆæ¼«æ­¥çš®æ©æœ­ã€‚",
                stay: "å¥§çˆ¾æ°å±±è°·è¾²èŠ Val d'Orcia",
                center: [43.000, 11.650], zoom: 11,
                spots: [
                    { name: "ç™½é¯¨æº«æ³‰", lat: 42.929, lng: 11.694, time: "2.5 hr", note: "æ£®æ—æº«æ³‰" },
                    { name: "Pienza çš®æ©æœ­", lat: 43.077, lng: 11.678, time: "3 hr", note: "ç†æƒ³å°é®" },
                    { name: "Vitaleta æ•™å ‚", lat: 43.070, lng: 11.634, time: "1 hr", note: "å¤•é™½å­¤ç¨æ„Ÿ" }
                ],
                photo: "éƒ½åœ¨å¥§çˆ¾æ°å±±è°·å…§ï¼Œæ™¯é»é–“é–‹è»Š 15-20 åˆ†é˜ã€‚",
                todo: ["èˆŠæ³³è¡£è™•ç†", "è²·ç¾Šä¹³é…ª"]
            },
            {
                day: 9, date: "5/11 (ä¸€)", title: "å¤©ç©ºä¹‹åŸï¼šæ­¸é€”æ™‚åˆ»", desc: "é€ è¨ªå¤©ç©ºä¹‹åŸå¾Œè¿”å›ç¾…é¦¬ã€‚",
                stay: "ç¾…é¦¬ Rome (Termini è»Šç«™æ—)",
                center: [42.300, 12.300], zoom: 9,
                spots: [
                    { name: "å¤©ç©ºä¹‹åŸ Civita", lat: 42.627, lng: 12.113, time: "3 hr", note: "æ­¥è¡Œé•·æ©‹" },
                    { name: "Rome FCO é‚„è»Š", lat: 41.796, lng: 12.251, time: "2 hr", note: "æ©Ÿå ´é‚„è»Š" }
                ],
                photo: "å¾æ‰˜æ–¯å¡å°¼é–‹å¾€ç¾…é¦¬ç´„ 2.5 å°æ™‚ï¼Œå¤©ç©ºä¹‹åŸæ˜¯å®Œç¾çš„ä¸­æ¢é»ã€‚",
                todo: ["åŠ æ»¿æ²¹å†é‚„è»Š", "æª¢æŸ¥è¡Œæ"]
            },
            {
                day: 10, date: "5/12 (äºŒ)", title: "å¸¶è‘—æ•…äº‹ï¼Œå•Ÿç¨‹å›å®¶", desc: "æœ€å¾Œçš„æ—©é¤ï¼Œæº–å‚™å•Ÿç¨‹ã€‚",
                stay: "é£›æ©Ÿä¸Š In Flight",
                center: [41.799, 12.246], zoom: 13,
                spots: [
                    { name: "FCO æ©Ÿå ´", lat: 41.799, lng: 12.246, time: "3 hr", note: "é€€ç¨…èˆ‡æ¡è²·" }
                ],
                photo: "åœ¨æ©Ÿå ´æ‹æ‹ Sherry çš„å´é¡ï¼Œç´€éŒ„æ—…ç¨‹çµ‚é»ã€‚",
                todo: ["æ ¸å°é€€ç¨…å–®", "ææ—© 3 å°æ™‚æŠµé”"]
            }
        ];

        // Initialize Map
        let map = L.map('map').setView([41.890, 12.480], 13);
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; OpenStreetMap'
        }).addTo(map);

        let markers = [];
        let activeRoute = null;

        function switchTab(tab) {
            document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('tab-active'));
            document.getElementById('section-' + tab).classList.remove('hidden');
            document.getElementById('tab-' + tab).classList.add('tab-active');
        }

        function showDay(n) {
            document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
            document.getElementById('section-day').classList.remove('hidden');
            document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('day-btn-active'));
            document.getElementById('btn-day-' + n).classList.add('day-btn-active');
            
            const day = days[n-1];
            
            // Clear Map
            markers.forEach(m => map.removeLayer(m));
            markers = [];
            if (activeRoute) {
                map.removeLayer(activeRoute);
                activeRoute = null;
            }

            // Add Markers
            const pathCoordinates = [];
            day.spots.forEach(s => {
                const marker = L.marker([s.lat, s.lng]).addTo(map).bindPopup(`<b>${s.name}</b><br>${s.note}`);
                markers.push(marker);
                pathCoordinates.push([s.lat, s.lng]);
            });

            // Draw Route
            if (pathCoordinates.length > 1) {
                activeRoute = L.polyline(pathCoordinates, {
                    color: '#a68d71',
                    weight: 3,
                    opacity: 0.6,
                    dashArray: '10, 10',
                    lineJoin: 'round'
                }).addTo(map);
            }

            map.setView(day.center, day.zoom);

            // Update Header Area
            document.getElementById('day-header-area').innerHTML = `
                <div class="animate-fadeIn mb-6 text-sm">
                    <div class="flex flex-col md:flex-row md:items-end justify-between mb-2 pb-4 border-b border-[#eee7de]">
                        <h2 class="serif text-3xl text-[#6d5d4b]">${day.date} ${day.title}</h2>
                        <span class="text-[10px] text-[#a68d71] font-bold tracking-[0.3em] mt-2 md:mt-0 uppercase font-sans">Day ${day.day}</span>
                    </div>
                    <div class="flex items-center text-[10px] text-[#94a187] mt-1 tracking-[0.1em] font-bold">
                        <span class="mr-2">ğŸ¡ ä»Šæ™šä¸‹æ¦»ï¼š</span><span>${day.stay}</span>
                    </div>
                </div>
            `;

            // Update Content Area
            const content = `
                <div class="animate-fadeIn">
                    <p class="text-sm text-slate-400 mb-8 leading-loose italic font-light">"${day.desc}"</p>
                    <div class="space-y-4 mb-12">
                        ${day.spots.map(s => `
                            <div class="flex items-center justify-between p-4 bg-[#fcfbf9] rounded-xl border border-[#eee7de]">
                                <div>
                                    <p class="text-sm font-medium text-[#4a4a4a]">${s.name}</p>
                                    <p class="text-[10px] text-slate-400 font-light">${s.note}</p>
                                </div>
                                <span class="text-[10px] text-white bg-[#d8c4b6] px-2 py-1 rounded-full font-bold font-sans">${s.time}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="p-6 bg-[#f7f3f0] rounded-2xl border border-[#eee7de]">
                            <h3 class="serif text-sm font-bold text-[#6d5d4b] mb-4">ğŸ“¸ æ…¢æ¼«æ”å½±ç­†è¨˜</h3>
                            <p class="text-xs text-[#8a7a6a] leading-loose">${day.photo}</p>
                        </div>
                        <div class="p-6">
                            <h3 class="serif text-sm font-bold text-[#6d5d4b] mb-4">âœ… éš¨æ‰‹æ¸…å–®</h3>
                            <ul class="text-[11px] space-y-3">
                                ${day.todo.map((t, idx) => `
                                    <li class="flex items-center">
                                        <input type="checkbox" id="todo-${n}-${idx}" onchange="toggleTodo('todo-${n}-${idx}')" class="mr-3 accent-[#a68d71]">
                                        <label for="todo-${n}-${idx}" class="cursor-pointer hover:text-[#a68d71] transition-colors">${t}</label>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('day-content').innerHTML = content;
        }

        function toggleTodo(id) { document.querySelector(`label[for="${id}"]`).classList.toggle('checked'); }

        window.onload = () => { switchTab('flight'); showDay(1); switchTab('flight'); };
    </script>
</body>
</html>
