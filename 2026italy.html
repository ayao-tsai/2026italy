<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ayao & Sherry ç¾©å¤§åˆ©èœœæœˆæ•£ç­– 2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&family=Noto+Sans+TC:wght@300;400;500&display=swap" rel="stylesheet">
    <!-- Leaflet Maps CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root {
            --cafe-bg: #fdfaf7;
            --cafe-paper: #ffffff;
            --cafe-text: #4a4a4a;
            --cafe-accent: #a68d71;
            --cafe-muted: #d8c4b6;
            --cafe-green: #94a187;
        }
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background-color: var(--cafe-bg); 
            color: var(--cafe-text);
            letter-spacing: 0.02em;
        }
        .serif { font-family: 'Noto Serif TC', serif; letter-spacing: 0.05em; }
        .tab-active { 
            color: var(--cafe-accent); 
            font-weight: 600; 
            border-bottom: 2px solid var(--cafe-accent);
        }
        .checked { text-decoration: line-through; color: #b5b5b5; opacity: 0.6; }
        .card-shadow { box-shadow: 0 10px 30px -10px rgba(166, 141, 113, 0.15); }
        .day-btn-active { background-color: var(--cafe-accent); color: white !important; border-radius: 8px; }
        
        .paper-texture {
            background-image: url("https://www.transparenttextures.com/patterns/natural-paper.png");
        }

        #map { height: 300px; border-radius: 16px; border: 1px solid #eee7de; margin-bottom: 24px; z-index: 10; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 4px; height: 4px; }
        ::-webkit-scrollbar-track { background: var(--cafe-bg); }
        ::-webkit-scrollbar-thumb { background: var(--cafe-muted); border-radius: 10px; }
        
        .animate-fadeIn { animation: fadeIn 0.6s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Mobile Date Scroller Fix */
        @media (max-width: 768px) {
            .date-scroller {
                display: flex;
                overflow-x: auto;
                white-space: nowrap;
                padding-bottom: 10px;
                -webkit-overflow-scrolling: touch;
            }
            .date-scroller button {
                flex: 0 0 auto;
                margin-right: 8px;
            }
        }
    </style>
</head>
<body class="paper-texture">

    <div class="max-w-6xl mx-auto min-h-screen flex flex-col md:flex-row my-0 md:my-10 card-shadow rounded-none md:rounded-3xl overflow-hidden bg-white">
        
        <!-- Sidebar Navigation -->
        <nav class="w-full md:w-72 bg-[#f9f5f0] border-r border-[#eee7de] p-6 md:p-8 flex-shrink-0">
            <div class="mb-8 md:mb-12 text-center md:text-left">
                <h1 class="serif text-xl md:text-2xl text-[#6d5d4b] font-bold leading-relaxed tracking-widest">
                    ç¾©å¤§åˆ©èœœæœˆæ•£ç­–<br>
                    <span class="text-xs md:text-sm font-light text-[#a68d71]">Ayao & Sherry 2026</span>
                </h1>
                <div class="h-px w-12 bg-[#a68d71] mt-4 mx-auto md:mx-0"></div>
            </div>
            
            <div class="space-y-6 text-sm">
                <section>
                    <p class="text-[10px] font-bold text-[#b5a391] uppercase tracking-[0.2em] mb-4">æ¦‚è¦½</p>
                    <div class="flex flex-row md:flex-col space-x-4 md:space-x-0 md:space-y-2 overflow-x-auto md:overflow-visible whitespace-nowrap pb-2 md:pb-0">
                        <button onclick="switchTab('flight')" id="tab-flight" class="text-left py-1 md:py-2 px-1 transition-all hover:text-[#a68d71]">âœˆï¸ èˆªç­æ™‚å…‰</button>
                        <button onclick="switchTab('budget')" id="tab-budget" class="text-left py-1 md:py-2 px-1 transition-all hover:text-[#a68d71]">ğŸ’° æ—…è²»ç¶“è²»</button>
                        <button onclick="switchTab('klook')" id="tab-klook" class="text-left py-1 md:py-2 px-1 transition-all hover:text-[#a68d71] text-[#c0a48a]">ğŸ”¥ æ¶ç¥¨è­¦æˆ’</button>
                    </div>
                </section>
                
                <section>
                    <p class="text-[10px] font-bold text-[#b5a391] uppercase tracking-[0.2em] mb-4 md:mb-6">æ—¥æœŸè¡Œç¨‹è©³æƒ…</p>
                    <div class="date-scroller grid grid-cols-none md:grid-cols-2 gap-2">
                        <button onclick="showDay(1)" id="btn-day-1" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all hover:border-[#eee7de]">5/3 (æ—¥)</button>
                        <button onclick="showDay(2)" id="btn-day-2" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all hover:border-[#eee7de]">5/4 (ä¸€)</button>
                        <button onclick="showDay(3)" id="btn-day-3" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all hover:border-[#eee7de]">5/5 (äºŒ)</button>
                        <button onclick="showDay(4)" id="btn-day-4" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all hover:border-[#eee7de]">5/6 (ä¸‰)</button>
                        <button onclick="showDay(5)" id="btn-day-5" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all hover:border-[#eee7de]">5/7 (å››)</button>
                        <button onclick="showDay(6)" id="btn-day-6" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all hover:border-[#eee7de]">5/8 (äº”)</button>
                        <button onclick="showDay(7)" id="btn-day-7" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all hover:border-[#eee7de]">5/9 (å…­)</button>
                        <button onclick="showDay(8)" id="btn-day-8" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all hover:border-[#eee7de]">5/10 (æ—¥)</button>
                        <button onclick="showDay(9)" id="btn-day-9" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all hover:border-[#eee7de]">5/11 (ä¸€)</button>
                        <button onclick="showDay(10)" id="btn-day-10" class="day-btn py-2 px-3 flex items-center justify-center rounded-lg text-[11px] border border-transparent transition-all hover:border-[#eee7de]">5/12 (äºŒ)</button>
                    </div>
                </section>
            </div>
        </nav>

        <!-- Main Content -->
        <main id="content" class="flex-grow p-6 md:p-16 overflow-y-auto max-h-screen bg-white">
            
            <!-- SECTION: FLIGHT -->
            <div id="section-flight" class="section hidden animate-fadeIn">
                <h2 class="serif text-3xl mb-10 text-[#6d5d4b]">âœˆï¸ èˆªç­æ™‚å…‰</h2>
                <div class="space-y-12 text-sm">
                    <div class="relative pl-8 border-l border-[#eee7de]">
                        <div class="absolute -left-1 top-0 w-2 h-2 rounded-full bg-[#a68d71]"></div>
                        <p class="text-[10px] text-[#a68d71] uppercase tracking-widest mb-1">DEPARTURE å»ç¨‹</p>
                        <p class="text-xl serif text-[#4a4a4a]">05/03 (æ—¥) å°åŒ— 00:30 â†’ ç¾…é¦¬ 13:25</p>
                        <p class="text-xs text-slate-400 mt-2 font-light italic">é˜¿è¯é…‹èˆªè±ªç¶“è‰™ï¼Œæ–¼æœæ‹œ (DXB) è½‰æ©Ÿã€‚æŠµé”ç¾…é¦¬ FCO ç•¶å¤©å³å¯å…¥ä½é£¯åº—ã€‚</p>
                    </div>
                    <div class="relative pl-8 border-l border-[#eee7de]">
                        <div class="absolute -left-1 top-0 w-2 h-2 rounded-full bg-[#a68d71]"></div>
                        <p class="text-[10px] text-[#a68d71] uppercase tracking-widest mb-1">RETURN å›ç¨‹</p>
                        <p class="text-xl serif text-[#4a4a4a]">05/12 (äºŒ) ç¾…é¦¬ 10:00 â†’ å°åŒ— 15:30 (+1)</p>
                        <p class="text-xs text-slate-400 mt-2 font-light italic">
                            05/12 æ—©ä¸Šç¾…é¦¬ FCO å‡ºç™¼ï¼Œæœæ‹œè½‰æ©Ÿã€‚é è¨ˆæ–¼ 05/13 (ä¸‰) ä¸‹åˆæŠµé”å°åŒ— TPEã€‚
                        </p>
                    </div>
                </div>
            </div>

            <!-- SECTION: BUDGET -->
            <div id="section-budget" class="section hidden animate-fadeIn text-sm">
                <h2 class="serif text-3xl mb-10 text-[#6d5d4b]">ğŸ’° æ—…è²»ç¶“è²»è©³åˆ—</h2>
                <div class="space-y-8">
                    <section>
                        <h3 class="text-xs font-bold text-[#a68d71] uppercase tracking-widest mb-4 border-b border-[#eee7de] pb-1">å¤§å®—æ”¯å‡º</h3>
                        <table class="w-full text-xs">
                            <tr class="h-10"><td>é˜¿è¯é…‹è±ªç¶“è‰™ (å·²ä»˜)</td><td class="text-right italic">NT$ 105,634</td></tr>
                            <tr class="h-10"><td>é£¯åº—ä½å®¿æ¦‚ç®— (9æ™š)</td><td class="text-right italic">~ NT$ 63,000</td></tr>
                        </table>
                    </section>
                    <section>
                        <h3 class="text-xs font-bold text-[#a68d71] uppercase tracking-widest mb-4 border-b border-[#eee7de] pb-1">äº¤é€šèˆ‡å¿…è¦ç¾é‡‘</h3>
                        <table class="w-full text-xs">
                            <tr class="h-10"><td>é«˜éµèˆ‡ç§Ÿè»Šè²»ç”¨</td><td class="text-right italic">~ NT$ 12,000</td></tr>
                            <tr class="h-10"><td>åŸå¸‚ç¨… City Tax (é è¨ˆç¾çµ)</td><td class="text-right italic">~ â‚¬120 (NT$ 4,200)</td></tr>
                            <tr class="h-10"><td>é¤é£²æ¡Œè²» Coperto (é è¨ˆç¾é‡‘)</td><td class="text-right italic">~ â‚¬80 (NT$ 2,800)</td></tr>
                        </table>
                    </section>
                </div>
                <div class="mt-10 p-6 bg-[#fcfbf9] rounded-2xl border border-[#eee7de] text-center">
                    <p class="serif text-2xl text-[#a68d71]">ç¸½ä¼°è¨ˆï¼šNT$ 233,384</p>
                    <p class="text-[10px] text-slate-400 mt-2 tracking-widest uppercase">Estimated Budget for Two</p>
                </div>
            </div>

            <!-- SECTION: DAY (DYNAMIC) -->
            <div id="section-day" class="section">
                <div id="day-header-area"></div>
                <div id="map"></div>
                <div id="day-summary" class="mb-10 text-[10px] text-[#94a187] tracking-widest uppercase font-bold flex justify-between">
                    <!-- Dynamic Stats -->
                </div>
                <div id="day-content"></div>
                <div id="day-stay-footer"></div>
            </div>

        </main>
    </div>

    <!-- Leaflet Maps JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const days = [
            {
                day: 1, date: "5/3 (æ—¥)", title: "æŠµé”ç¾…é¦¬ï¼šåˆè¦‹æ™‚åˆ»", desc: "ä¸­åˆæŠµé” FCO æ©Ÿå ´ï¼Œç¬¬ä¸€å¤©ä¸è¨­é™ï¼Œé©æ‡‰ç¾…é¦¬å··å¼„çš„åˆå¾Œå…‰å½±ã€‚",
                stay: "ç¾…é¦¬ Rome",
                stats: "é ä¼°è·¯ç¨‹ï¼š35km | äº¤é€šï¼šæ©Ÿå ´å¿«ç·š + æ­¥è¡Œ",
                center: [41.890, 12.420], zoom: 12,
                spots: [
                    { name: "ç¾…é¦¬ FCO æ©Ÿå ´", lat: 41.799, lng: 12.246, time: "40 min", transport: "ğŸš† æ©Ÿå ´å¿«ç·š (Leonardo Express)", note: "æ©Ÿå ´ç›´é”å¸‚å€" },
                    { name: "è¶Šå°ä¼¯æ²³å€ Trastevere", lat: 41.889, lng: 12.467, time: "3 hr", transport: "ğŸš¶ æ­¥è¡Œæ•£ç­–", note: "ç¾…é¦¬éˆé­‚å€ï¼Œæœ€ç¾è¡—æ‹é»" }
                ],
                photo: "GR3x æ­£ç‰‡æ¨¡å¼ï¼Œæ•æ‰è”“è—¤èˆ‡å¤•é™½ã€‚é€™å¤©çš„å…‰å½±åœ¨ 17:30 å·¦å³æœ€ç¾ã€‚",
                todo: ["è¾¦ç†å…¥ä½", "è¾¦ç† SIM å¡", "åœ¨å™´æ³‰æ—å–ç¬¬ä¸€å£ç¾…é¦¬æ°´"]
            },
            {
                day: 2, date: "5/4 (ä¸€)", title: "æ¢µè’‚å²¡ï¼šéˆé­‚çš„å°ç¨±", desc: "æ·±å…¥å…¨ä¸–ç•Œæœ€å°çš„åœ‹å®¶ï¼Œæ„Ÿå—æ–‡è—å¾©èˆˆçš„æœ€é«˜æ®¿å ‚ã€‚",
                stay: "ç¾…é¦¬ Rome",
                stats: "é ä¼°è·¯ç¨‹ï¼š5km | äº¤é€šï¼šåœ°éµ + æ­¥è¡Œ",
                center: [41.903, 12.458], zoom: 15,
                spots: [
                    { name: "æ¢µè’‚å²¡åšç‰©é¤¨", lat: 41.906, lng: 12.453, time: "4.5 hr", transport: "ğŸš‡ åœ°éµ A ç·šè½‰æ­¥è¡Œ", note: "æ—‹è½‰æ¨“æ¢¯èˆ‡è¥¿æ–¯æ±€ç¦®æ‹œå ‚" },
                    { name: "è–å½¼å¾—å¤§æ•™å ‚", lat: 41.902, lng: 12.453, time: "2 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "ä¸‹åˆæ•æ‰ä¸é”çˆ¾æ•ˆæ‡‰ (ç¥ä¹‹å…‰)" }
                ],
                photo: "A6700 å»£è§’æ•æ‰ç©¹é ‚ã€‚é€²å…¥æ•™å ‚å‰è«‹ç¢ºä¿ç›¸æ©Ÿé›»æ± æ»¿æ ¼ã€‚",
                todo: ["æ³¨æ„ç©¿è‘—è¦å®š (é®è‚©è”½è†)", "é›»å­ç¥¨ QR Code å‚™å¦¥"]
            },
            {
                day: 3, date: "5/5 (äºŒ)", title: "ç«¶æŠ€å ´ï¼šåƒå¹´ä¹‹å…‰", desc: "æ­¥å…¥ç«¶æŠ€å ´ï¼Œæ„Ÿå—è·¨è¶Šåƒå¹´çš„éœ‡æ’¼ã€‚é€™è£¡æ˜¯ç¾…é¦¬çš„éˆé­‚ä¸­å¿ƒã€‚",
                stay: "ç¾…é¦¬ Rome",
                stats: "é ä¼°è·¯ç¨‹ï¼š6km | äº¤é€šï¼šæ­¥è¡Œç‚ºä¸»",
                center: [41.895, 12.485], zoom: 14,
                spots: [
                    { name: "ç¾…é¦¬ç«¶æŠ€å ´", lat: 41.890, lng: 12.492, time: "2.5 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "åœ°ä¸‹å±¤å°è¦½æ”å½±" },
                    { name: "è¬ç¥æ®¿", lat: 41.898, lng: 12.476, time: "1 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "ä»°æ‹ç©¹é ‚å¤©çª—" },
                    { name: "è¨±é¡˜æ±  Fontana di Trevi", lat: 41.901, lng: 12.483, time: "1 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "å»ºè­°ä¸€å¤§æ—©æˆ–æ™šé–“ä¾†æ‹é•·æ›" }
                ],
                photo: "é€™ä¸‰é»å½¢æˆä¸€å€‹ç¶“å…¸æ”å½±ä¸‰è§’å€ã€‚æ­¥è¡Œè·¯é¢å¤šç‚ºçŸ³æ¿ï¼Œå‹™å¿…ç©¿å¥½é‹ã€‚",
                todo: ["è²· Giolitti å†°æ·‡æ·‹", "æ‰¾å°‹ä¸æ”¶é ç´„çš„å‚³çµ±å°é¤¨åƒæ™šé¤"]
            },
            {
                day: 4, date: "5/6 (ä¸‰)", title: "ä½›ç¾…å€«æ–¯ï¼šæ–‡è—é¦–èˆª", desc: "æ­ä¹˜ç¾©å¤§åˆ©é«˜éµï¼Œå…©å°æ™‚å…§å¾ç¾…é¦¬è½‰ç§»åˆ°å„ªé›…çš„ä½›ç¾…å€«æ–¯ã€‚",
                stay: "ä½›ç¾…å€«æ–¯ Florenceï½œ25hours Hotel Florence æˆ–åŒç´š",
                stats: "é ä¼°è·¯ç¨‹ï¼š280km | äº¤é€šï¼šItalo é«˜éµ + æ­¥è¡Œ",
                center: [43.773, 11.255], zoom: 15,
                spots: [
                    { name: "Firenze SMN è»Šç«™", lat: 43.776, lng: 11.247, time: "1.5 hr", transport: "ğŸš„ Italo é«˜éµ (Roma-Firenze)", note: "é«˜éµé«”é©—ï¼Œå»ºè­°é¸ Prima è‰™" },
                    { name: "è–æ¯ç™¾èŠ±å¤§æ•™å ‚", lat: 43.773, lng: 11.256, time: "2 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "ç´…ç£šç©¹é ‚å¤§æ™¯ï¼Œéœ€ç™»é ‚é ç´„" }
                ],
                photo: "å‡ºç«™å¾Œç”¨ GR3x éŒ„è£½ä¸€æ®µ VLOGã€‚ä½›ç¾…å€«æ–¯çš„å…‰ç·šæ¯”ç¾…é¦¬æ›´æº«æŸ”ï¼Œå¸¶é»åœŸé»ƒèª¿ã€‚",
                todo: ["ä¸­å¤®å¸‚å ´åƒç‰›è‚šåŒ…", "é£¯åº—åˆ‡æ› CUBE è¶£æ—…è¡Œæ¨¡å¼"]
            },
            {
                day: 5, date: "5/7 (å››)", title: "ç¾è¡“é¤¨èˆ‡æ²³å²¸è·äºº", desc: "ä¸Šåˆé£½è¦½å¤§å¸«å‚‘ä½œï¼Œä¸‹åˆè·¨éé˜¿è«¾æ²³ï¼Œèµ°å…¥è·äººå€ã€‚",
                stay: "ä½›ç¾…å€«æ–¯ Florence",
                stats: "é ä¼°è·¯ç¨‹ï¼š4km | äº¤é€šï¼šå…¨æ­¥è¡Œ",
                center: [43.768, 11.252], zoom: 15,
                spots: [
                    { name: "çƒè²èŒ²ç¾è¡“é¤¨", lat: 43.767, lng: 11.255, time: "4 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "æ–‡è—å¾©èˆˆåç•«é›†ä¸­åœ°" },
                    { name: "å­¸é™¢ç¾è¡“é¤¨ Accademia", lat: 43.776, lng: 11.258, time: "1.5 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "å¤§è¡›åƒçœŸè·¡æ”å½±" },
                    { name: "Oltrarno è·äººå€", lat: 43.767, lng: 11.247, time: "3 hr", transport: "ğŸš¶ æ­¥è¡Œè·¨æ²³", note: "æ…¢æ¼«è¡—æ‹ï¼Œæ•æ‰çš®ä»¶åŒ äºº" }
                ],
                photo: "Oltrarno æ˜¯ A6700 è¡—é ­äººåƒçš„ä¸»å ´ã€‚è·äººåº—é‹ªå…‰å½±æ¥µä½³ã€‚",
                todo: ["æª¢æŸ¥ç›¸æ©Ÿå‚™ä»½ç©ºé–“", "é ç´„ä½›ç¾…å€«æ–¯å¤§ç‰›æ’ (Bistecca)"]
            },
            {
                day: 6, date: "5/8 (äº”)", title: "è½æ—¥é¤˜æš‰ä¸‹çš„ç™¾è¬æ™¯è§€", desc: "é€™å¤©æ­¥èª¿æ”¾ç·©ï¼Œæ¡è²·èœœæœˆä¼´æ‰‹ç¦®ï¼Œå‚æ™šå‰å¾€å…¨åŸæœ€é«˜é»è¿æ¥æ—¥è½ã€‚",
                stay: "ä½›ç¾…å€«æ–¯ Florence",
                stats: "é ä¼°è·¯ç¨‹ï¼š3km | äº¤é€šï¼šæ­¥è¡Œ + çˆ¬å¡",
                center: [43.765, 11.258], zoom: 15,
                spots: [
                    { name: "è€æ©‹ Ponte Vecchio", lat: 43.768, lng: 11.253, time: "2 hr", transport: "ğŸš¶ æ­¥è¡Œ", note: "ä¼´æ‰‹ç¦®æ¡è²·èˆ‡è€è¡—å…‰å½±" },
                    { name: "ç±³é–‹æœ—åŸºç¾…å»£å ´", lat: 43.763, lng: 11.265, time: "2.5 hr", transport: "ğŸš¶ æ­¥è¡Œçˆ¬å¡", note: "ä¿¯ç°å…¨åŸçš„é»ƒé‡‘æ‹æ”é»" }
                ],
                photo: "æ—¥è½å‰ 1 å°æ™‚åˆ°å»£å ´ã€‚å¸¶ä¸Š A6700 é•·ç„¦æ®µï¼Œæ‹ä¸‹å¤§æ•™å ‚åœ¨ç´«ç²‰è‰²å¤©ç©ºä¸‹çš„è¼ªå»“ã€‚",
                todo: ["å¸¶ä¸€ç“¶ç™½è‘¡è„é…’å»å»£å ´é‡é¤", "ç¢ºèªæ—¥è½æ™‚é–“ (5æœˆç´„ 20:10)"]
            },
            {
                day: 7, date: "5/9 (å…­)", title: "è‡ªé§•é–‹å•Ÿï¼šæ‰˜æ–¯å¡å°¼", desc: "é ˜å–åº§é§•ï¼Œé§›å‘å¥§çˆ¾æ°å±±è°·ã€‚é€²å…¥é›»å½±èˆ¬çš„ç¶ è‰²çµ²æŸä¸–ç•Œã€‚",
                stay: "çš®æ©æ‰",
                stats: "é ä¼°è·¯ç¨‹ï¼š120km | äº¤é€šï¼šç§Ÿè»Šè‡ªé§• (Firenze å–è»Š)",
                center: [43.400, 11.450], zoom: 9,
                spots: [
                    { name: "Firenze SMN å–è»Šé»", lat: 43.776, lng: 11.247, time: "1 hr", transport: "ğŸš— å–è»Šé–‹å•Ÿè‡ªé§•æ¨¡å¼", note: "æ³¨æ„é¿é–‹ ZTL é™è¡Œå€" },
                    { name: "éŒ«è€¶ç´ Siena", lat: 43.318, lng: 11.331, time: "3 hr", transport: "ğŸš— é–‹è»Š 1 hr", note: "ä¸­ä¸–ç´€å¤åŸï¼Œç”°é‡å»£å ´æ”å½±" },
                    { name: "Baccoleno çµ²æŸä¹‹è·¯", lat: 43.201, lng: 11.583, time: "2 hr", transport: "ğŸš— é–‹è»Š 40 min", note: "S å‹æ›²ç·šï¼Œå¤•é™½å¿…æ‹" }
                ],
                photo: "ç›¸æ©ŸåŒ…å‹™å¿…éš¨èº«ï¼Œåš´ç¦ç•™åœ¨è»Šå…§ã€‚åˆ©ç”¨å…¬è·¯è½‰è§’æ•æ‰å£¯é—Šæ„Ÿã€‚",
                todo: ["éŒ„å½±éŒ„è£½ç§Ÿè»Šç¾æ³", "è¨­å®š Waze å°èˆªé¿é–‹ ZTL è™•ç½°"]
            },
            {
                day: 8, date: "5/10 (æ—¥)", title: "æ£®æ—æº«æ³‰èˆ‡ç†æƒ³åœ‹", desc: "åœ¨æ¸…æ™¨çš„ç¡«ç£ºéœ§æ°£ä¸­é†’ä¾†ï¼Œæ¼«æ­¥åœ¨ç¾Šä¹³é…ªé£„é¦™çš„ Pienzaã€‚",
                stay: "çš®æ©æ‰",
                stats: "é ä¼°è·¯ç¨‹ï¼š60km | äº¤é€šï¼šé–‹è»Š",
                center: [43.000, 11.650], zoom: 11,
                spots: [
                    { name: "Bagni San Filippo æº«æ³‰", lat: 42.929, lng: 11.694, time: "2.5 hr", transport: "ğŸš— é–‹è»Š 20 min", note: "ç™½é¯¨æº«æ³‰ï¼Œå»ºè­°æ¸…æ™¨ 7 é»åˆ°" },
                    { name: "Pienza çš®æ©æœ­", lat: 43.077, lng: 11.678, time: "3 hr", transport: "ğŸš— é–‹è»Š 15 min", note: "ç†æƒ³å°é®ï¼Œå··å¼„èˆ‡åŸç‰†å¤§æ™¯" },
                    { name: "Vitaleta å°æ•™å ‚", lat: 43.070, lng: 11.634, time: "1 hr", transport: "ğŸš— é–‹è»Š + ğŸš¶ æ­¥è¡Œ", note: "å­¤ç¨æ„Ÿæ•™å ‚æ”å½±" }
                ],
                photo: "æº«æ³‰å€ GR3x çš„å¾®è·æ¨¡å¼æ‹æ°´èŠ±çµæ™¶ã€‚Pienza å··å¼„å…‰å½±éå¸¸è±å¯Œã€‚",
                todo: ["æº–å‚™å¥½ä¹¾æ·¨å¤§æµ´å·¾èˆ‡å¡‘è† è¢‹", "è²· Pienza ç‰¹ç”¢ç¾Šä¹³é…ªç•¶ä¼´æ‰‹ç¦®"]
            },
            {
                day: 9, date: "5/11 (ä¸€)", title: "å¤©ç©ºä¹‹åŸï¼šæ­¸é€”æ™‚åˆ»", desc: "é€ è¨ªå±±è°·ä¸­çš„å­¤å³¶å¤åŸï¼Œéš¨å¾Œè¿”å›ç¾…é¦¬çµæŸå£¯èˆ‰ã€‚",
                stay: "ç¾…é¦¬ Romeï½œTermini è»Šç«™æ— (æ–¹ä¾¿éš”å¤©æ­æ©Ÿ)",
                stats: "é ä¼°è·¯ç¨‹ï¼š210km | äº¤é€šï¼šé–‹è»Š + æ©Ÿå ´é‚„è»Š",
                center: [42.300, 12.300], zoom: 9,
                spots: [
                    { name: "å¤©ç©ºä¹‹åŸ Civita", lat: 42.627, lng: 12.113, time: "3 hr", transport: "ğŸš— é–‹è»Š 1.5 hr", note: "æ­¥è¡Œé•·æ©‹é€²å…¥å±±åŸ" },
                    { name: "Rome FCO æ©Ÿå ´é‚„è»Š", lat: 41.796, lng: 12.251, time: "2 hr", transport: "ğŸš— è‡ªé§•çµ‚é»", note: "åœ¨ FCO Parking é‚„è»Šæœ€çœå¿ƒ" }
                ],
                photo: "æ‹æ”é•·æ©‹ Sherry çš„èƒŒå½±ï¼Œå°æ¯”å±±åŸçš„å£¯é—Šèˆ‡å­¤ç¨ã€‚ä¸‹åˆçš„å…‰å½±å¾ˆæœ‰å±¤æ¬¡ã€‚",
                todo: ["é‚„è»Šå‰åŠ æ»¿æ²¹", "æª¢æŸ¥è¡Œææ˜¯å¦å…¨æ•¸å¸¶å›"]
            },
            {
                day: 10, date: "5/12 (äºŒ)", title: "å¸¶è‘—æ•…äº‹ï¼Œå•Ÿç¨‹å›å®¶", desc: "æœ€å¾Œçš„ä¸€ä»½ç¾©å¼æ—©é¤ã€‚æ•´ç†è¨˜æ†¶å¡ï¼Œåˆ†äº«å±¬æ–¼æˆ‘å€‘çš„ 2026ã€‚",
                stay: "é£›æ©Ÿä¸Šï½œé˜¿è¯é…‹èˆªè±ªç¶“è‰™",
                stats: "é ä¼°è·¯ç¨‹ï¼šè¡Œæé‹é€èˆ‡é•·é€”é£›è¡Œ",
                center: [41.799, 12.246], zoom: 13,
                spots: [
                    { name: "ç¾…é¦¬ FCO æ©Ÿå ´", lat: 41.799, lng: 12.246, time: "3 hr", transport: "ğŸš† æ©Ÿå ´æ¥é§", note: "é€€ç¨…èˆ‡æœ€å¾Œæ¡è²·" }
                ],
                photo: "åœ¨æ©Ÿå ´æ‹æ‹ Sherry çš„å´è‡‰ï¼Œç´€éŒ„é€™è¶Ÿå¤¢å¹»æ—…ç¨‹çš„çµ‚ç« ã€‚",
                todo: ["æ ¸å°é€€ç¨…å–®æ“š", "ææ—© 3 å°æ™‚æŠµé”æ©Ÿå ´é–€å£"]
            }
        ];

        // Initialize Map
        let map = L.map('map').setView([41.890, 12.480], 13);
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; OpenStreetMap'
        }).addTo(map);

        let markers = [];
        let activeRoute = null;

        function switchTab(tab) {
            document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('tab-active'));
            document.getElementById('section-' + tab).classList.remove('hidden');
            document.getElementById('tab-' + tab).classList.add('tab-active');
        }

        function showDay(n) {
            document.querySelectorAll('.section').forEach(s => s.classList.add('hidden'));
            document.getElementById('section-day').classList.remove('hidden');
            document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('day-btn-active'));
            document.getElementById('btn-day-' + n).classList.add('day-btn-active');
            
            const day = days[n-1];
            
            // Map Logic
            markers.forEach(m => map.removeLayer(m));
            markers = [];
            if (activeRoute) { map.removeLayer(activeRoute); activeRoute = null; }

            const pathCoordinates = [];
            day.spots.forEach(s => {
                const marker = L.marker([s.lat, s.lng]).addTo(map).bindPopup(`<b>${s.name}</b><br>${s.transport}`);
                markers.push(marker);
                pathCoordinates.push([s.lat, s.lng]);
            });

            if (pathCoordinates.length > 1) {
                activeRoute = L.polyline(pathCoordinates, { color: '#a68d71', weight: 3, opacity: 0.6, dashArray: '10, 10' }).addTo(map);
            }
            map.setView(day.center, day.zoom);

            // Update Header & Stats
            document.getElementById('day-header-area').innerHTML = `
                <div class="animate-fadeIn mb-6 text-sm">
                    <div class="flex flex-col md:flex-row md:items-end justify-between mb-4 pb-4 border-b border-[#eee7de]">
                        <h2 class="serif text-2xl md:text-3xl text-[#6d5d4b]">${day.date} ${day.title}</h2>
                        <span class="text-[10px] text-[#a68d71] font-bold tracking-[0.3em] mt-2 md:mt-0 uppercase">D${day.day}</span>
                    </div>
                </div>
            `;
            document.getElementById('day-summary').innerHTML = `<span>${day.stats}</span>`;

            // Update Detailed Content
            const content = `
                <div class="animate-fadeIn">
                    <p class="text-sm text-slate-400 mb-8 leading-loose italic font-light">"${day.desc}"</p>
                    <div class="space-y-4 mb-12">
                        <p class="text-[10px] font-bold text-[#b5a391] uppercase tracking-widest mb-4">æ•£ç­–ç¯€é» & å°è¦½</p>
                        ${day.spots.map(s => `
                            <div class="flex flex-col p-4 bg-[#fcfbf9] rounded-xl border border-[#eee7de] hover:border-[#a68d71] transition-all group">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center">
                                        <p class="text-sm font-medium text-[#4a4a4a] mr-2">${s.name}</p>
                                        <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(s.name)}" target="_blank" class="text-[#a68d71] opacity-60 group-hover:opacity-100 transition-opacity">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                                            </svg>
                                        </a>
                                    </div>
                                    <span class="text-[10px] text-white bg-[#d8c4b6] px-2 py-1 rounded-full font-bold">${s.time}</span>
                                </div>
                                <div class="flex items-center text-[10px] text-[#94a187] font-medium">
                                    <span>${s.transport}</span>
                                    <span class="mx-2 text-[#eee7de]">|</span>
                                    <span class="text-slate-400 font-light italic">${s.note}</span>
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                        <div class="p-6 bg-[#f7f3f0] rounded-2xl border border-[#eee7de]">
                            <h3 class="serif text-sm font-bold text-[#6d5d4b] mb-4">ğŸ“¸ æ…¢æ¼«æ”å½±ç­†è¨˜</h3>
                            <p class="text-xs text-[#8a7a6a] leading-loose">${day.photo}</p>
                        </div>
                        <div class="p-6">
                            <h3 class="serif text-sm font-bold text-[#6d5d4b] mb-4">âœ… éš¨æ‰‹æ¸…å–®</h3>
                            <ul class="text-[11px] space-y-3">
                                ${day.todo.map((t, idx) => `
                                    <li class="flex items-center">
                                        <input type="checkbox" id="todo-${n}-${idx}" onchange="toggleTodo('todo-${n}-${idx}')" class="mr-3 accent-[#a68d71]">
                                        <label for="todo-${n}-${idx}" class="cursor-pointer hover:text-[#a68d71]">${t}</label>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                </div>
            `;
            document.getElementById('day-content').innerHTML = content;

            // Updated Tonight's Stay Footer
            document.getElementById('day-stay-footer').innerHTML = `
                <div class="animate-fadeIn mt-16 p-8 bg-[#fcfbf9] rounded-3xl border-2 border-[#eee7de] text-center border-dashed">
                    <p class="text-[10px] text-[#b5a391] uppercase tracking-[0.3em] mb-3">Accommodation Tonight</p>
                    <h4 class="serif text-xl md:text-2xl text-[#6d5d4b] font-bold">ğŸ¡ ä»Šæ™šä¸‹æ¦»ï¼š${day.stay}</h4>
                    <p class="text-[10px] text-slate-400 mt-2 italic font-light">ç¥ æœ‰å€‹å¥½å¤¢èˆ‡é£½æ»¿çš„å¿«é–€å›æ†¶</p>
                </div>
            `;
        }

        function toggleTodo(id) { document.querySelector(`label[for="${id}"]`).classList.toggle('checked'); }

        window.onload = () => { switchTab('flight'); showDay(1); switchTab('flight'); };
    </script>
</body>
</html>
